<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Hangman</title>
  </head>
  <body>
    <p><button id='new-game'>New Game!</button></p>
    <p>Prisoner: <span id='prisoner'></span></p>
    <p>Remaining: <span id='remaining'></span></p>
	<p>Status: <span id='status'></span></p>
	<p>Hits: <span id='hits'></span></p>
	<p>Misses: <span id='misses'></span></p>
    <p>
      <input type="text" name="guess" value="" id="guess"/>
      <button id='btn_guess' disabled>Guess</button>
    </p>
    <script src="scripts/hangman.js"></script>
    <script>
		window.onload = function(){
			var p = "";
			var new_game = document.getElementById('new-game');
			new_game.onclick = function() {
				var listWords = new Array("paperino","pluto","topolino","paperone");
				p = new Prisoner(listWords[Math.floor(Math.random()*4)]);
				document.getElementById('prisoner').innerHTML = p.display();
				document.getElementById('remaining').innerHTML = p._remaining;
				document.getElementById('status').innerHTML = p.status();
				document.getElementById("btn_guess").disabled = false;
			};
			
			var btn_guess = document.getElementById('btn_guess');
			btn_guess.onclick = function() {
				var lettera = document.getElementById('guess');
				p.guess(lettera.value);
				document.getElementById('prisoner').innerHTML = p.display();
				document.getElementById('remaining').innerHTML = p._remaining;
				document.getElementById('status').innerHTML = p.status();
				document.getElementById('hits').innerHTML = p.hits();
				document.getElementById('misses').innerHTML = p.misses();
				if (p.status() === 'rescued' ) {
					document.getElementById("btn_guess").disabled = true;
				}
			};
		};
    </script>
  </body>
</html>